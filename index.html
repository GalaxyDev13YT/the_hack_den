<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Canva - Home</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5018374874081188" crossorigin="anonymous"></script>
    <style>
        html,
        body {

            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: url('https://i.pinimg.com/originals/f1/ed/a4/f1eda4768df8d8135c779772f2833e88.gif') no-repeat center center fixed;
            background-size: cover;
            color: #e0e0e0;
        }

        .sticky-banner {
            position: sticky;
            top: 0;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem;
            z-index: 1000;
            border-bottom: 1px solid #333;
            gap: 1rem;
        }

        .topbar-header-img {
            max-width: 100px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .logo-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-container {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            box-shadow: 0 0 10px 1px white;
        }

        .logo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            display: block;
        }

        .nav-wrapper {
            display: flex;
            align-items: center;
            flex-grow: 1;
            justify-content: space-between;
        }

        nav {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        nav a {
            color: #ccc;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        nav a:hover {
            background-color: #1e1e2e;
            color: #00bfff;
        }

        .container {
            max-width: 960px;
            margin: auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        }

        header {
            text-align: center;
            padding: 2rem 0;
        }

        .main-header-img {
            max-width: 40%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .layout {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        @media (min-width: 768px) {
            .layout {
                flex-direction: row;
            }

            .main-content {
                flex: 3;
            }

            .sidebar {
                flex: 1;
            }
        }

        /* üéµ Music Player Box */
        #musicPlayer {
            position: absolute;
            /* ‚Üê Make it draggable */
            top: 100px;
            /* Initial position */
            left: 50px;
            /* Initial position */
            max-width: 400px;
            margin: 0;
            /* Remove auto margin, since we're using absolute */
            padding: 1rem;
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid rgba(0, 245, 212, 0.3);
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 245, 212, 0.4);
            font-family: "Segoe UI", sans-serif;
            color: white;
            cursor: grab;
            /* Hint that it‚Äôs draggable */
            z-index: 1000;
            /* Make sure it‚Äôs on top */
        }


        /* Title bar */
        #musicPlayer .titlebar {
            font-size: 1.2rem;
            font-weight: bold;
            color: #00f5d4;
            text-align: center;
            margin-bottom: 1rem;
            text-shadow: 0 0 10px rgba(0, 245, 212, 0.8);
        }

        /* File input & text input */
        #musicPlayer input[type="file"],
        #musicPlayer input[type="text"] {
            display: block;
            width: 100%;
            margin: 0.5rem 0;
            padding: 0.5rem;
            border: none;
            border-radius: 6px;
            background: #111;
            color: white;
            outline: none;
            box-shadow: inset 0 0 10px rgba(0, 245, 212, 0.3);
        }

        /* Buttons */
        #musicPlayer button {
            display: inline-block;
            margin-top: 0.5rem;
            padding: 0.6rem 1.2rem;
            background: linear-gradient(to bottom, #00f5d4, #000);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: normal;
            box-shadow: 0 0 10px rgba(0, 245, 212, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        #musicPlayer button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(0, 245, 212, 0.6);
        }

        /* YouTube iframe */
        #ytFrame {
            display: none;
            /* hidden until YouTube is loaded */
            width: 100%;
            height: 200px;
            margin-top: 1rem;
            border-radius: 8px;
            border: none;
            box-shadow: 0 0 15px rgba(0, 245, 212, 0.3);
        }

        .post {
            background-image: linear-gradient(to bottom, rgba(28, 28, 43, 0.9), black), url('https://tse3.mm.bing.net/th/id/OIP.mB969rDHlydLdf4jCMbaywHaEK?rs=1&pid=ImgDetMain');
            background-size: cover;
            background-position: center;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 0 10px #000;
            margin-bottom: 1.5rem;
        }

        .post1 {
            background-image: linear-gradient(to bottom, rgba(28, 28, 43, 0.9), black), url('https://wallpaperbat.com/img/8662328-discord-wallpaper.jpg');
            background-size: cover;
            background-position: center;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 0 10px #000;
            margin-bottom: 1.5rem;
        }

        .post h2 {
            color: #99ccff;
            margin-top: 0;
        }

        .post p {
            color: #bbb;
        }

        .claimed-button {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(to bottom, #BFBFBF, #000000);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: normal;
            box-shadow: 0 0 10px rgba(191, 191, 191);
            transition: transform 0.2s, box-shadow 0.2s;
            margin-left: 95px;
            text-decoration: none;
        }

        .claim-button {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(to bottom, #00f5d4, #000000);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: normal;
            box-shadow: 0 0 10px rgba(0, 245, 212, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            margin-left: 32px;
            text-decoration: none;
        }

        .cool-button {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(to bottom, #00f5d4, #000000);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: normal;
            box-shadow: 0 0 10px rgba(0, 245, 212, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
        }

        .cool-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px rgba(0, 245, 212, 0.6);
        }

        .sidebar {
            background-color: #1a1a2a;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
        }

        .sidebar h3 {
            color: #8ecae6;
        }

        .xp-container {
            margin: 15px 0;
        }

        .xp-bar {
            width: 100%;
            height: 18px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }

        .xp-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00c6ff, #0072ff);
            transition: width 0.5s ease-in-out;
        }

        .quest-list {
            margin-top: 20px;
        }

        .popup {
            position: fixed;
            bottom: -150px;
            left: 50%;
            transform: translateX(-50%);
            background: #1e1e2f;
            padding: 15px 20px;
            border-radius: 12px;
            color: #fff;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.6);
            opacity: 0;
            transition: all 0.6s ease-in-out;
            min-width: 260px;
            text-align: center;
            z-index: 9999;
        }

        .popup.show {
            bottom: 40px;
            opacity: 1;
        }

        .popup .xp-bar {
            margin-top: 10px;
            height: 10px;
        }

        .popup .xp-fill {
            background: linear-gradient(90deg, #00ff88, #00c6ff);
        }

        .social-icons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .social-icons a {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            overflow: hidden;
            transition: transform 0.3s ease;
            background-color: white;
        }

        .social-icons a img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .social-icons a:hover {
            transform: scale(1.1);
        }

        .ad-space {
            margin: 2rem 0;
            padding: 1rem;
            background-color: #131323;
            border: 1px dashed #555;
            color: #888;
            text-align: center;
            border-radius: 8px;
            font-style: italic;
        }

        .main-header-img {
            width: 600px !important;
            height: auto !important;
            max-width: none !important;
        }

        .footer {
            text-align: center;
            padding: 1.5rem 0;
            font-size: 0.9rem;
            color: #666;
        }

        .auth-header-img {
            width: 350px !important;
            height: auto !important;
            max-width: 90vw !important;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* PAGE TWO */
        #games-section {
            margin: 0;
            padding: 0;
            font-family: "VT323", monospace;
            background: url('https://th.bing.com/th/id/R.7d368d30263eeba4d51bc99c83e308e1?rik=DQq20kkCVFKTZQ&pid=ImgRaw&r=0') no-repeat center center;
            background-size: cover;
            width: 100vw;
            min-height: 100vh;
        }

        .vt323-regular {
            font-family: "VT323", monospace;
            font-weight: 400;
            font-style: normal;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 22px;
            max-width: 1700px;
            margin: 48px auto;
            padding: 0 24px;
        }

        .game-box {
            position: relative;
            width: 100%;
            aspect-ratio: 1/1;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 0 24px 2px #0E0E26, 0 2px 16px #000a;
            cursor: pointer;
            transition: box-shadow 0.18s, border-color 0.18s, transform 0.18s;
            border: 2.5px solid #0E0E26;
            background: #222d;
            display: flex;
            align-items: stretch;
            justify-content: stretch;
            font-size: 1.35em;
        }

        .game-box:hover {
            box-shadow: 0 0 36px 6px #00e5ffcc, 0 6px 32px #000e;
            border-color: #b800ff;
            transform: scale(1.04);
        }

        .game-thumb {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: filter 0.2s;
            filter: brightness(0.95) saturate(1.07);
        }

        .game-box:hover .game-thumb {
            filter: brightness(1.16) saturate(1.3);
        }

        .game-title {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 0.6em 0;
            text-align: center;
            font-weight: bold;
            font-size: 1.15em;
            background: linear-gradient(to top, rgba(14, 14, 38) 0%, rgba(34, 45, 50, 0.1) 100%);
            color: #fff;
            text-shadow: 0 0 18px #00e5ff, 0 0 8px #000;
            letter-spacing: 0.4px;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            pointer-events: none;
            z-index: 1;
            backdrop-filter: blur(2px);
            text-transform: uppercase;
        }

        .popup-game {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(16, 18, 34, .83);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            backdrop-filter: blur(5px);
            font-family: "VT323", monospace;
        }

        .popup-game-inner {
            background: rgba(24, 26, 48, 0.97);
            border-radius: 24px;
            box-shadow: 0 0 44px 8px #00e5ff55, 0 6px 32px #000e;
            width: 96vw;
            max-width: 1100px;
            height: 90vh;
            max-height: 700px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
            border: 2.5px solid #00e5ff;
            transition: width 0.3s, height 0.3s, max-width 0.3s, max-height 0.3s;
        }

        .popup-game-titlebar {
            background: linear-gradient(90deg, #00e5ff 0%, #b800ff 100%);
            color: #121220;
            padding: 14px 28px;
            font-size: 1.3em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px #00e5ff22;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .popup-game-btns {
            display: flex;
            gap: 14px;
        }

        .popup-game-close,
        .popup-game-fullscreen {
            background: transparent;
            border: none;
            color: #121220;
            font-size: 1.4em;
            cursor: pointer;
            font-weight: bold;
            border-radius: 7px;
            padding: 0 8px;
            transition: background .15s, color .15s;
        }

        .popup-game-close:hover {
            background: #ff5e5e;
            color: #fff;
        }

        .popup-game-fullscreen:hover {
            background: #b800ff;
            color: #fff;
        }

        .popup-game-iframe {
            flex: 1;
            border: 0;
            width: 100%;
            background: #000;
            box-shadow: 0 2px 12px #00e5ff44;
            border-radius: 0 0 24px 24px;
        }

        .popup-game.fullscreen .popup-game-inner {
            width: 100vw !important;
            height: 100vh !important;
            max-width: none !important;
            max-height: none !important;
            border-radius: 0 !important;
        }

        .auth-header-img {
            width: 350px !important;
            height: auto !important;
            max-width: 90vw !important;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        header {
            text-align: center;
            margin-top: 20px;
        }

        #splash-text-auth {
            margin-top: 10px;
            font-size: 1.6rem;
            font-style: italic;
            color: #00e5ff;
            text-shadow: 0px 0px 12px rgba(0, 229, 255, 0.8);
        }

        .cool-button {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(to bottom, #00f5d4, #000000);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: normal;
            box-shadow: 0 0 10px rgba(0, 245, 212, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
        }

        .cool-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px rgba(0, 245, 212, 0.6);
        }
    </style>
</head>

<body>
    <!-- AUTH CONTAINER -->
    <div id="authModal" style="
    position: fixed;
    inset: 0;
    background: url('https://wallpaperaccess.com/full/2825787.gif') no-repeat center center fixed;
    background-size: cover;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
">
        <div style="
        width: 350px;
        padding: 30px;
        background-color: rgba(0, 0, 0, 0.8);
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        display: flex;
        flex-direction: column;
        gap: 15px;
        color: white;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        text-align: center;
    ">
            <header>
                <img class="auth-header-img" src="https://i.imgur.com/T15VeIb.png" alt="the_hack_den">
                <p id="splash-text-auth" style="..."></p>
                <p id="splash-text-auth" style="
                margin-top: 10px;
                font-size: 1.2rem;
                font-style: italic;
                color: #00e5ff;
                text-shadow: 0px 0px 10px rgba(0,229,255,0.8);
            "></p>
            </header>
            <h2 id="authTitle">Log In</h2>
            <input type="text" id="usernameInput" placeholder="Username" style="
            padding: 10px;
            border-radius: 6px;
            border: none;
            outline: none;
        ">
            <input type="password" id="passwordInput" placeholder="Password" style="
            padding: 10px;
            border-radius: 6px;
            border: none;
            outline: none;
        ">
            <button id="authBtn" style="
            padding: 10px;
            border-radius: 6px;
            border: none;
            background: linear-gradient(to bottom, #00f5d4, #000000);
            color: white;
            cursor: pointer;
            font-weight: bold;
        ">Log In</button>
            <p id="toggleText" style="font-size:0.9rem;">Don't have an account? <span id="toggleAuth" style="color:#00f5d4; cursor:pointer;">Sign Up</span></p>
        </div>
    </div>
    <!--Second Page Content -->
    <div id="secondPage" class="page">
        <section id="games-section">
            <section>
                <header>
                    <img class="auth-header-img" src="https://i.imgur.com/T15VeIb.png" alt="the_hack_den">
                    <p id="splash-text-auth">51 Games and Counting!</p>
                    <button onclick="showPage('mainPage')" class="cool-button">Back to Main Page</button>
                </header>

                <h1 class="vt323-regular" style="text-align:center; margin-top:30px; color:#00e5ff; font-size:2.2rem; text-shadow: 0 0 18px #00e5ffAA;">
                    Games
                </h1>

                <div class="game-grid vt323-regular" id="gameGrid"></div>
            </section>
        </section>

        <script src="games.js"></script>

    </div>

    <!-- Main Page Content -->
    <div id="mainPage" class="page">
        <div id="musicPlayer">
            <div class="titlebar">Music Player</div>
            <div class="content">
                <!-- Audio + Browse on one line -->
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <audio id="audioPlayer" controls style="flex:1;"></audio>
                    <label for="mp3Upload" class="cool-button" style="font-size:0.8em; padding:0.4rem 0.8rem; white-space:nowrap;">
                        Browse...
                    </label>
                    <input type="file" id="mp3Upload" accept="audio/mp3" style="display:none;">
                </div>

                <!-- Stacked below -->
                <input type="text" id="ytInput" placeholder="YouTube link" style="width:100%; margin-bottom:8px;">
                <button onclick="loadYouTube()">Play YouTube</button>
                <iframe id="ytFrame" style="width:100%; margin-top:8px;"></iframe>
            </div>
        </div>

        <div class="container">
            <header>
                <img class="main-header-img" src="https://i.imgur.com/T15VeIb.png" alt="the_hack_den" style="width: 1005px; height: 145px;">
                <p id="splash-text-main" style="
                margin-top: 10px;
                font-size: 1.2rem;
                font-style: italic;
                color: #00e5ff;
                text-shadow: 0px 0px 10px rgba(0,229,255,0.8);
                "></p>
            </header>
            <div class="layout">
                <div class="main-content">
                    <div class="post">
                        <h2>How To Use HTML Games/Apps</h2>
                        <p>To use the html games and apps all you need to do is open the hideout in your file manger navigate to the file
                            you want to open and double click it and it should open in your browser.</p>
                        <a href="javascript:void(0)" onclick="showPage('secondPage')" class="cool-button">View Content</a>
                    </div>
                    <div class="post1">
                        <h2>Extra Questions</h2>
                        <p>For more info and help click the link in the footer or the button below to join the discord server.</p>
                        <a href="https://discord.gg/v5HWNddmsS" class="cool-button">Discord Server</a>
                    </div>
                    <div class="ad-space">
                        [ Ad Space Placeholder ]<br>
                        You can replace this with your own AdSense, image banner, or affiliate box.
                    </div>
                </div>

                <aside class="sidebar">
                    <h3><span id="usernameDisplay"></span>'s Progress</h3>
                    <div class="xp-container">
                        <span id="level">Level: 1</span>
                        <div class="xp-bar">
                            <div class="xp-fill" id="xpFill"></div>
                        </div>
                        <span id="xpText">0 / 100 XP</span>
                    </div>

                    <div class="quest-list">
                        <h3>Daily Reward</h3>
                        <div class="quest">
                            <span>Claim your daily XP</span>
                            <button id="dailyRewardBtn" class="claim-button">Claim</button>
                        </div>
                    </div>

                    <h3>Version</h3>
                    <p>v1.3 STABLE</p>
                    <h3>Credits:</h3>
                    <p>owner - galaxydev</p>
                    <p>developer - DoubleF</p>
                    <script src="https://elfsightcdn.com/platform.js" async></script>
                    <div class="elfsight-app-d60ccf6d-5598-4880-b004-4df7c5463eb3" data-elfsight-app-lazy></div>
                    <button id="logoutBtn" style="margin-top: 20px; display: none; padding: 10px; border-radius: 6px; border: none; background: linear-gradient(to bottom, #ff5e5e, #000000); color: white; cursor: pointer; font-weight: bold;">Logout</button>
                </aside>
            </div>

            <footer class="footer">
                <div class="social-icons">
                    <a href="https://discord.gg/v5HWNddmsS" target="_blank" title="Discord">
                        <img src="https://th.bing.com/th/id/OIP.Qgo8eBVZpDlGx5__GDUO1wHaHa?w=192&h=192&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Discord">
                    </a>
                    <a href="https://x.com/RAZEdevelopment" target="_blank" title="Twitter">
                        <img src="https://img.freepik.com/premium-vector/x-new-social-network-black-app-icon-twitter-rebranded-as-x-twitter-s-logo-was-changed_277909-568.jpg?semt=ais_hybrid" alt="Twitter">
                    </a>
                    <a href="google" target="_blank" title="Files">
                        <img src="https://tse4.mm.bing.net/th/id/OIP.LV3bPz0a6ALE--6jql69VAHaHa?rs=1&pid=ImgDetMain" alt="Files">
                    </a>
                    <a href="https://www.youtube.com/@galaxydevgames" target="_blank" title="Youtube">
                        <img src="https://tse4.mm.bing.net/th/id/OIP.N4JsVvAiu2JgD07d_wndAQHaFR?rs=1&pid=ImgDetMain" alt="Youtube">
                    </a>
                </div>
            </footer>
        </div>
    </div>

    <div class="popup" id="popup">
        <span id="popupText"></span>
        <div class="xp-bar">
            <div class="xp-fill" id="popupXpFill"></div>
        </div>
    </div>

    <!-- ================= SCRIPT SECTION ================= -->
    <script>
        const audioPlayer = document.getElementById("audioPlayer");
        const mp3Upload = document.getElementById("mp3Upload");
        const ytInput = document.getElementById("ytInput");
        const ytFrame = document.getElementById("ytFrame");
        const musicPlayer = document.getElementById("musicPlayer");
        const musicBar = musicPlayer.querySelector(".titlebar");

        // üéµ Handle MP3 upload
        mp3Upload.onchange = e => {
            const file = e.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                ytFrame.style.display = "none";
                audioPlayer.style.display = "block";
                audioPlayer.src = url;
                audioPlayer.play();
            }
        };

        // üéµ Handle YouTube link
        function loadYouTube() {
            let url = ytInput.value.trim();
            if (!url) return;
            let videoId = "";
            try {
                const urlObj = new URL(url);
                if (urlObj.hostname.includes("youtube.com")) {
                    videoId = urlObj.searchParams.get("v");
                } else if (urlObj.hostname.includes("youtu.be")) {
                    videoId = urlObj.pathname.slice(1);
                }
            } catch (e) {}
            if (videoId) {
                audioPlayer.pause();
                audioPlayer.style.display = "none";
                ytFrame.style.display = "block";
                ytFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
            }
        }

        // üéµ Dragging logic
        let draggingMusic = false,
            mOffsetX = 0,
            mOffsetY = 0;
        musicBar.addEventListener("mousedown", e => {
            draggingMusic = true;
            mOffsetX = e.clientX - musicPlayer.offsetLeft;
            mOffsetY = e.clientY - musicPlayer.offsetTop;
            document.body.style.userSelect = "none";
        });
        window.addEventListener("mousemove", e => {
            if (!draggingMusic) return;
            musicPlayer.style.left = (e.clientX - mOffsetX) + "px";
            musicPlayer.style.top = (e.clientY - mOffsetY) + "px";
            musicPlayer.style.right = "auto";
            musicPlayer.style.bottom = "auto";
        });
        window.addEventListener("mouseup", () => {
            draggingMusic = false;
            document.body.style.userSelect = "auto";
        });

        function showPage(pageId) {
            document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
            document.getElementById(pageId).classList.add("active");
        }

        // -- SPLASH TEXTS --
        const splashes = [
            "THE_HACK_DEN",
            "Code. Play. Repeat",
            "Not on Steam",
            "Classy!",
            "Level up",
            "Indev!",
            "Best in class!",
            "Adventure awaits!",
            "As seen on TV!",
            "galaxydev was here",
            "Coded by yours truly",
            "goodbyegamer!",
            "dont forget to turn off your adblocker to support us ;)",
            "im too lazy to finsh this...",
            "I ALWAYS COME BACK",
            "(*-[{HYPERLINK TERMINATED}]-*)",
            "Banned in North Korea!",
            "CtrlAltDefeat",
            "107 Games!",
        ];

        function setRandomSplash(targetId) {
            const splash = splashes[Math.floor(Math.random() * splashes.length)];
            document.getElementById(targetId).textContent = splash;
        }

        setRandomSplash("splash-text-auth");
        setRandomSplash("splash-text-main");

        // ---- AUTH ----
        const authModal = document.getElementById("authModal");
        const authTitle = document.getElementById("authTitle");
        const authBtn = document.getElementById("authBtn");
        const toggleAuth = document.getElementById("toggleAuth");
        const toggleText = document.getElementById("toggleText");
        const usernameInput = document.getElementById("usernameInput");
        const passwordInput = document.getElementById("passwordInput");
        const logoutBtn = document.getElementById("logoutBtn");
        const mainPage = document.getElementById("mainPage");
        const usernameDisplay = document.getElementById("usernameDisplay");

        let isLogin = true; // true = login, false = signup
        const usersKey = "authUsers";

        function getUsers() {
            return JSON.parse(localStorage.getItem(usersKey)) || {};
        }

        function saveUsers(users) {
            localStorage.setItem(usersKey, JSON.stringify(users));
        }

        function updateLogoutButton() {
            const loggedInUser = localStorage.getItem("loggedInUser");
            if (logoutBtn) logoutBtn.style.display = loggedInUser ? "block" : "none";
        }

        function login(username) {
            localStorage.setItem("loggedInUser", username);
            usernameDisplay.textContent = username;
            authModal.style.display = "none";

            // Show main page and hide any other pages
            showPage("mainPage");

            updateLogoutButton();
            setRandomSplash("splash-text-main");
            loadUserStats(username);
            updateUI();
        }

        function logout() {
            localStorage.removeItem("loggedInUser");
            authModal.style.display = "flex";

            // Hide all pages when logging out
            document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));

            updateLogoutButton();
        }


        authBtn.addEventListener("click", () => {
            const username = usernameInput.value.trim();
            const password = passwordInput.value;

            if (!username || !password) {
                alert("Enter username and password!");
                return;
            }

            let users = getUsers();

            if (isLogin) {
                // LOG IN
                if (users[username] && users[username] === password) {
                    login(username);
                } else {
                    alert("Invalid username or password!");
                }
            } else {
                // SIGN UP
                if (users[username]) {
                    alert("Username already exists!");
                } else {
                    users[username] = password;
                    saveUsers(users);
                    alert("Account created! You can now log in.");
                    toggleToLogin();
                }
            }
        });

        function toggleToSignUp() {
            isLogin = false;
            authTitle.textContent = "Sign Up";
            authBtn.textContent = "Sign Up";
            toggleText.innerHTML = `Already have an account? <span id="toggleAuth" style="color:#00f5d4; cursor:pointer;">Log In</span>`;
            document.getElementById("toggleAuth").addEventListener("click", toggleToLogin);
        }

        function toggleToLogin() {
            isLogin = true;
            authTitle.textContent = "Log In";
            authBtn.textContent = "Log In";
            toggleText.innerHTML = `Don't have an account? <span id="toggleAuth" style="color:#00f5d4; cursor:pointer;">Sign Up</span>`;
            document.getElementById("toggleAuth").addEventListener("click", toggleToSignUp);
        }

        toggleAuth.addEventListener("click", () => {
            if (isLogin) toggleToSignUp();
            else toggleToLogin();
        });

        if (logoutBtn) {
            logoutBtn.addEventListener("click", logout);
        }

        // ---- XP & LEVEL SYSTEM ----
        let level = 1;
        let xp = 0;
        let xpNeeded = 100;
        let completedQuests = {};
        let lastDailyClaim = null;

        const levelSpan = document.getElementById("level");
        const xpFill = document.getElementById("xpFill");
        const xpText = document.getElementById("xpText");
        const popup = document.getElementById("popup");
        const popupText = document.getElementById("popupText");
        const popupXpFill = document.getElementById("popupXpFill");
        const dailyRewardBtn = document.getElementById("dailyRewardBtn");

        function loadUserStats(username) {
            // Each user gets their own stats
            level = parseInt(localStorage.getItem(username + "_level")) || 1;
            xp = parseInt(localStorage.getItem(username + "_xp")) || 0;
            xpNeeded = level * 100;
            completedQuests = JSON.parse(localStorage.getItem(username + "_completedQuests")) || {};
            lastDailyClaim = localStorage.getItem(username + "_lastDailyClaim") || null;
        }

        function saveUserStats(username) {
            localStorage.setItem(username + "_level", level);
            localStorage.setItem(username + "_xp", xp);
            localStorage.setItem(username + "_completedQuests", JSON.stringify(completedQuests));
            localStorage.setItem(username + "_lastDailyClaim", lastDailyClaim);
        }

        function updateUI() {
            const loggedInUser = localStorage.getItem("loggedInUser");
            if (!loggedInUser) return;

            levelSpan.textContent = `Level: ${level}`;
            xpText.textContent = `${xp} / ${xpNeeded} XP`;
            xpFill.style.width = `${(xp / xpNeeded) * 100}%`;

            saveUserStats(loggedInUser);

            // Update daily reward button
            if (!canClaimDailyReward()) {
                dailyRewardBtn.textContent = "Claimed";
                dailyRewardBtn.disabled = true;
                dailyRewardBtn.classList.add("claimed-button");
                dailyRewardBtn.classList.remove("claim-button");
            } else {
                dailyRewardBtn.textContent = "Claim Daily Reward";
                dailyRewardBtn.disabled = false;
                dailyRewardBtn.classList.remove("claimed-button");
                dailyRewardBtn.classList.add("claim-button");
            }
        }

        function canClaimDailyReward() {
            const today = new Date().toDateString();
            return lastDailyClaim !== today;
        }

        function claimDailyReward() {
            if (!canClaimDailyReward()) {
                showPopup("You already claimed today's reward!", 0, false);
                return;
            }

            // Give random XP (30‚Äì100)
            let gainedXp = Math.floor(Math.random() * (100 - 30 + 1)) + 30;
            xp += gainedXp;

            // Mark daily reward as claimed
            lastDailyClaim = new Date().toDateString();

            // Show pop-up and check level up
            checkLevelUp(gainedXp);
            updateUI();
        }

        function checkLevelUp(gainedXp) {
            if (xp >= xpNeeded) {
                xp -= xpNeeded;
                level++;
                xpNeeded = level * 100;
                showPopup(`LEVEL UP! üéâ You are now Level ${level}`, gainedXp, true);
            } else {
                showPopup(`+${gainedXp} XP Earned!`, gainedXp, false);
            }
        }

        function showPopup(message, gainedXp, leveledUp) {
            popupText.textContent = message;
            popupXpFill.style.width = `${Math.min((xp / xpNeeded) * 100, 100)}%`;

            popup.classList.add("show");
            setTimeout(() => {
                popup.classList.remove("show");
            }, 4000);
        }

        // Attach event only after DOM is loaded
        window.addEventListener("DOMContentLoaded", function() {
            // If user is already logged in, show mainPage
            const savedUser = localStorage.getItem("loggedInUser");
            if (savedUser) {
                login(savedUser);
            } else {
                authModal.style.display = "flex";
                mainPage.style.display = "none";
            }

            if (dailyRewardBtn) {
                dailyRewardBtn.addEventListener("click", function() {
                    claimDailyReward();
                    const loggedInUser = localStorage.getItem("loggedInUser");
                    saveUserStats(loggedInUser);
                });
            }
        });
        /* PAGE 2 JS */
        const games = [{
                title: "2048",
                file: "2048.html",
                thumb: "https://tse1.mm.bing.net/th/id/OIP.iZOp02h3ry7bE1RITpwyegHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "A Day in the Office",
                file: "A Day in the Office.html",
                thumb: "https://i.ytimg.com/vi/2dLD1iWHz9U/maxresdefault.jpg"
            },
            {
                title: "Alien Invasion 3D",
                file: "Alien Invastion 3d.html",
                thumb: "https://cdn.cloudflare.steamstatic.com/steam/apps/818640/ss_f1782275ce648a2679090ffe6214c7800775ddca.1920x1080.jpg?t=1572677088"
            },
            {
                title: "Attack Hole",
                file: "Attack Hole.html",
                thumb: "https://www.nintendo.com/eu/media/images/assets/nintendo_switch_games/attackhole/2x1_AttackHole_image1280w.jpg"
            },
            {
                title: "Bable Tower",
                file: "Bable Tower.html",
                thumb: "https://tse3.mm.bing.net/th/id/OIP.H4iE76PHkRpHEIW38j-6mQHaD4?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Bad Parenting",
                file: "Bad Parenting.html",
                thumb: "https://i.ytimg.com/vi/JIt-fELseuo/maxresdefault.jpg"
            },
            {
                title: "Baldi's Basics",
                file: "Baldis Basics.html",
                thumb: "https://img.itch.zone/aW1hZ2UvMjM5ODQxLzE2NTAzMjUucG5n/original/Y8LdOc.png"
            },
            {
                title: "Bank Robbery 2",
                file: "Bank Robbery 2.html",
                thumb: "https://tse4.mm.bing.net/th/id/OIP.82RXn2cQ_5bGLndf2Sg_CwHaEK?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Bendy and the Ink Machine",
                file: "Bendy and the Ink Machine.html",
                thumb: "https://wallpaperaccess.com/full/1264220.jpg"
            },
            {
                title: "Bitlife",
                file: "Bitlife.html",
                thumb: "https://www.touchtapplay.com/wp-content/uploads/2021/09/BitLife-life-simulator-1.jpg?fit=1200%2C835"
            },
            {
                title: "Blackjack",
                file: "Blackjack.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.PEn1zBH8v5LYQUM0d85N4wHaDa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Block Blast",
                file: "Block Blast.html",
                thumb: "https://static.dosomegaming.com/blockblast/block-blast-2.jpeg"
            },
            {
                title: "Bloons TDS",
                file: "Bloods TDS 5.html",
                thumb: "https://static0.gamerantimages.com/wordpress/wp-content/uploads/2023/01/btd-main.jpg"
            },
            {
                title: "Burrito Bison",
                file: "Burrito Bison.html",
                thumb: "https://th.bing.com/th/id/R.25655f1c280cc2ffd01462c6d3fbdcea?rik=T4vXNBpCCax68w&pid=ImgRaw&r=0"
            },
            {
                title: "Capybara Clicker",
                file: "Capybara Clicker.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.KmqcyKtZoAnin4ZB12R3hwAAAA?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Car Crash 3",
                file: "Car Crash 3.html",
                thumb: "https://tse4.mm.bing.net/th/id/OIP.U1W8N0wd2wlYRibGIVnBZgHaEK?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Cluster Rush",
                file: "Cluster Rush.html",
                thumb: "https://tse2.mm.bing.net/th/id/OIP.KsTBOwXuX8Xd3hTeTgkazAHaEJ?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "COD Black Ops",
                file: "COD Blacks Ops.html",
                thumb: "https://i.ytimg.com/vi/Zz9J8kfuk9w/maxresdefault.jpg"
            },
            {
                title: "Cookie Clicker",
                file: "Cookie Clicker.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.dTmAPRmmEBm4QTd_E5o_8gHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Counterstrike",
                file: "Counterstrike DS.html",
                thumb: "https://tse2.mm.bing.net/th/id/OIP.N443p-h_q8MAKFufVwsasgHaJ7?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Crossy Road",
                file: "Crossy Road.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.hPPwm-7TMdssF_C9QxEJRQHaEK?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Deltarune",
                file: "Deltarune.html",
                thumb: "https://cdn.hobbyconsolas.com/sites/navi.axelspringer.es/public/media/image/2021/01/deltarune-2204209.jpg?tf=3840x"
            },
            {
                title: "Doki Doki Literature Club",
                file: "Doki Doki Literature Club.html",
                thumb: "https://th.bing.com/th/id/R.11bf3498c7d817623a070b9b4ac84288?rik=Q%2faoVyCZcBNG5Q&pid=ImgRaw&r=0"
            },
            {
                title: "Draw a Car",
                file: "Draw a Car.html",
                thumb: "https://th.bing.com/th/id/R.9e6792eba791ec2b75f77509494686be?rik=pPm8NRvrs9ISKQ&pid=ImgRaw&r=0&sres=1&sresct=1"
            },
            {
                title: "Dreadhead Parkour",
                file: "Dreadhead Parkour.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.fV66PGa22zDDkDj0vex66wHaEm?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Drift Boss",
                file: "Drift Boss.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.tUfuvJB6phZBsRP6_hsCCwAAAA?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Drive Mad",
                file: "Drive Mad.html",
                thumb: "https://img.tapimg.net/market/images/33bfa288de7de6e05aebdbc0a9dbdc9a.png/appicon"
            },
            {
                title: "Endoparasitic",
                file: "Endoparasitic.html",
                thumb: "https://tse4.mm.bing.net/th/id/OIP.j6y6ARi4Th9rZM_YOWSk9gHaEP?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Escape Road",
                file: "Escape Road.html",
                thumb: "https://tse4.mm.bing.net/th/id/OIP._LtYWis-xhB6ABRTMyV57AHaFj?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Escape Road 2",
                file: "Escape Road 2.html",
                thumb: "https://escaperoad.io/cache/data/image/game/escape-road-2-f240x240.webp"
            },
            {
                title: "Find the Alien",
                file: "Find the Alien.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.vYzbh3LRTT9Pr8mk0tfoFQHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Fireboy and Watergirl",
                file: "Fireboy and Watergirl 3.html",
                thumb: "https://th.bing.com/th/id/R.69edc69be09df3ea9fc6f829d11a3a9a?rik=7a5QSj5OYZkArA&pid=ImgRaw&r=0"
            },
            {
                title: "Fnaf 1",
                file: "Fnaf 1.html",
                thumb: "https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/319510/header.jpg?t=1666889251"
            },
            {
                title: "Fnaf 2",
                file: "Fnaf 2.html",
                thumb: "https://tse3.mm.bing.net/th/id/OIP.zZ-bvwsckXaDOunBi23E8gHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Fnaf 3",
                file: "Fnaf 3.html",
                thumb: "https://tse2.mm.bing.net/th/id/OIP.hwKd95C7vMCoVNzd6bHCpQHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Fnaf 6",
                file: "Fnaf 6.html",
                thumb: "https://play-lh.googleusercontent.com/zDcOTck_4ZjLeJNgil4bpIXUefRUYVqOqlpc8hxeDby8LQh0eZhYDho9U3W_RVg9yuE"
            },
            {
                title: "Fnaf UCN",
                file: "Fnaf UCN.html",
                thumb: "https://tse3.mm.bing.net/th/id/OIP.ENTdZ9AFnpXkUnlFSsKUJgHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Fork n Sausage",
                file: "Fork n Sausage.html",
                thumb: "https://tse1.mm.bing.net/th/id/OIP.0-n00Kq4I2lXH9-uLolvmgHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Friday Night Funkin",
                file: "Friday Night Funkin.html",
                thumb: "https://tse1.mm.bing.net/th/id/OIP.zv_QDY_pJVGx8LkcTeBi2gHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Fruit Ninja",
                file: "Fruit Ninja.html",
                thumb: "https://rami.games/web/game-thumbnails/f/fruit-ninja.jpg"
            },
            {
                title: "Funny Shooter 2",
                file: "Funny Shooter 2.html",
                thumb: "https://tse3.mm.bing.net/th/id/OIP.vfM9oa7e9TSKjEq0cKvNFwHaEH?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Geometry Dash",
                file: "Geometry Dash.html",
                thumb: "https://tse4.mm.bing.net/th/id/OIP.lFwB7PpTyib1K1Nj7tY3XwHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Getaway Shootout",
                file: "Getaway Shootout.html",
                thumb: "https://smartdrivinggames.com/wp-content/uploads/2023/07/getaway-shootout-thumbnail.jpg"
            },
            {
                title: "Going Balls",
                file: "Going Balls.html",
                thumb: "https://play-lh.googleusercontent.com/Wzl05wdNoPPDs0eNhQBwkmIneBKEWTcDNHigkjAdn4twgkyzbH22vuHW8N3NZGKEUA"
            },
            {
                title: "Google Baseball",
                file: "Google Baseball.html",
                thumb: "https://tse1.mm.bing.net/th/id/OIP.SDiPz6AnWlXyUni9egvGUgHaEK?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Granny",
                file: "Granny.html",
                thumb: "https://tse2.mm.bing.net/th/id/OIP.lLJoo4xc5IUqq7Qv-Fy3rgHaHZ?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "GTA DS",
                file: "GTA DS.html",
                thumb: "https://tse4.mm.bing.net/th/id/OIP.WCWXYk8zvZE1WlgnroXoWAHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
            {
                title: "Gunspin",
                file: "Gunspin.html",
                thumb: "https://thvnext.bing.com/th/id/OIP.0jeWShzMrDbMsHVz5TEO_wHaHa?cb=ucfimgc2&rs=1&pid=ImgDetMain"
            },
                       
            // Add more games here:
            // { title: "Game Name", file: "gamefile.html", thumb: "url_or_path_to_image.png" },
        ];

        // ==== RENDER GRID ====
        const grid = document.getElementById('gameGrid');
        games.forEach(game => {
            const box = document.createElement('div');
            box.className = 'game-box vt323-regular';
            box.onclick = () => openGamePopup(game.file, game.title);

            const thumb = document.createElement('img');
            thumb.className = 'game-thumb';
            thumb.src = game.thumb;
            thumb.alt = game.title;

            const title = document.createElement('div');
            title.className = 'game-title vt323-regular';
            title.textContent = game.title;

            box.appendChild(thumb);
            box.appendChild(title);
            grid.appendChild(box);
        });

        // ==== POPUP LOGIC ====
        function openGamePopup(file, title) {
            document.querySelectorAll('.popup-game').forEach(e => e.remove());

            const popup = document.createElement('div');
            popup.className = 'popup-game vt323-regular';
            popup.innerHTML = `
        <div class="popup-game-inner">
            <div class="popup-game-titlebar vt323-regular">
                <span>${title}</span>
                <span class="popup-game-btns">
                    <button class="popup-game-fullscreen vt323-regular" title="Toggle Fullscreen">‚ñ¢</button>
                    <button class="popup-game-close vt323-regular" title="Close">&times;</button>
                </span>
            </div>
            <iframe class="popup-game-iframe" src="files/${file}" allowfullscreen></iframe>
        </div>
    `;
            document.body.appendChild(popup);

            popup.querySelector('.popup-game-close').onclick = () => popup.remove();
            popup.onclick = (e) => {
                if (e.target === popup) popup.remove();
            };

            let isFull = false;
            const fsBtn = popup.querySelector('.popup-game-fullscreen');
            fsBtn.onclick = () => {
                isFull = !isFull;
                popup.classList.toggle('fullscreen', isFull);
            };
        }
    </script>
</body>

</html>
